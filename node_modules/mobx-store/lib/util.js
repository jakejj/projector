'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.init = init;
exports.addKey = addKey;

var _mobx = require('mobx');

function init(source, read, write) {
  var obj = read(source);
  (0, _mobx.autorun)(function () {
    return write(source, obj.toJs());
  });
  return obj;
}

function addKey(data, key) {
  return Object.defineProperty(data, '__key', {
    enumerable: false,
    configurable: false,
    writable: false,
    value: key
  });
}